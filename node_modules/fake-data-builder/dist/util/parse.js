"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isData = exports.deepAssign = exports.parseData = exports.parseValue = void 0;
function parseValue(value) {
    if (typeof value === 'function')
        return parseValue(value());
    if (Array.isArray(value))
        return value.map(parseValue);
    if (isData(value))
        return parseData(value);
    return value;
}
exports.parseValue = parseValue;
function parseData(data) {
    const result = {};
    for (const key of Object.keys(data)) {
        result[key] = parseValue(data[key]);
    }
    return result;
}
exports.parseData = parseData;
function deepAssign(target, source) {
    for (const key of Object.keys(source)) {
        const a = target[key];
        const b = source[key];
        if (isData(a) && isData(b)) {
            deepAssign(a, b);
        }
        else {
            target[key] = source[key];
        }
    }
}
exports.deepAssign = deepAssign;
function isData(value) {
    return Object.prototype.toString.call(value) === '[object Object]';
}
exports.isData = isData;
