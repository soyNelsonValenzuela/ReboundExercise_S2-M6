"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.nullable = exports.arrayOf = exports.oneOf = exports.sequence = void 0;
const parse_1 = require("./util/parse");
function sequence(generator) {
    let count = 0;
    const isFunction = typeof generator === 'function';
    return function () {
        count++;
        return (isFunction ? (0, parse_1.parseValue)(generator(count)) : count);
    };
}
exports.sequence = sequence;
function oneOf(...values) {
    return function () {
        return (0, parse_1.parseValue)(values[Math.floor(Math.random() * values.length)]);
    };
}
exports.oneOf = oneOf;
function arrayOf(value, count = 1) {
    return function () {
        const result = [];
        for (let i = 0; i < count; i++) {
            result.push((0, parse_1.parseValue)(value));
        }
        return result;
    };
}
exports.arrayOf = arrayOf;
function nullable(value, median = 0.5) {
    return function () {
        return Math.random() > median ? null : (0, parse_1.parseValue)(value);
    };
}
exports.nullable = nullable;
